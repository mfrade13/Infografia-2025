{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nancy\\\\Documents\\\\UNIVERSIDAD\\\\SEPTIMO_SEMESTRE\\\\INFOGRAFIA\\\\object-detection-app\\\\frontend\\\\src\\\\components\\\\WebcamDetector.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport io from 'socket.io-client';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst WebcamDetector = ({\n  onDetection\n}) => {\n  _s();\n  const [isDetecting, setIsDetecting] = useState(false);\n  const [fps, setFps] = useState(10);\n  const [realFps, setRealFps] = useState(0);\n  const [error, setError] = useState(null);\n  const videoRef = useRef(null);\n  const socketRef = useRef(null);\n  const animationRef = useRef(null);\n  const lastFrameTimeRef = useRef(0);\n  const frameQueueRef = useRef([]);\n  const frameCountRef = useRef(0);\n  const lastFpsUpdateRef = useRef(0);\n  useEffect(() => {\n    socketRef.current = io('http://localhost:5000', {\n      transports: ['websocket'],\n      reconnection: true,\n      reconnectionAttempts: 5,\n      reconnectionDelay: 1000\n    });\n    socketRef.current.on('connect', () => {\n      console.log('Conectado al servidor WebSocket');\n      setError(null);\n    });\n    socketRef.current.on('connect_error', err => {\n      console.error('Error de conexión:', err);\n      setError('No se pudo conectar al servidor. Intente recargar la página.');\n      setIsDetecting(false);\n    });\n    socketRef.current.on('video_frame', data => {\n      const now = performance.now();\n      if (frameQueueRef.current.length < 2) {\n        frameQueueRef.current.push(data);\n      }\n      if (data.fps) {\n        setRealFps(Math.round(data.fps));\n      }\n    });\n    socketRef.current.on('video_error', data => {\n      setError(data.message || 'Error en la transmisión de video');\n      setIsDetecting(false);\n    });\n    return () => {\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n      }\n    };\n  }, []);\n  useEffect(() => {\n    const processFrame = () => {\n      const now = performance.now();\n      const minFrameInterval = 1000 / fps;\n      if (now - lastFpsUpdateRef.current >= 1000) {\n        lastFpsUpdateRef.current = now;\n        frameCountRef.current = 0;\n      }\n      if (frameQueueRef.current.length > 0 && now - lastFrameTimeRef.current >= minFrameInterval) {\n        const frameData = frameQueueRef.current.shift();\n        frameCountRef.current++;\n        try {\n          if (videoRef.current) {\n            const byteString = atob(frameData.frame);\n            const byteArray = new Uint8Array(byteString.length);\n            for (let i = 0; i < byteString.length; i++) {\n              byteArray[i] = byteString.charCodeAt(i);\n            }\n            const blob = new Blob([byteArray], {\n              type: 'image/jpeg'\n            });\n            const imageUrl = URL.createObjectURL(blob);\n            videoRef.current.src = imageUrl;\n            videoRef.current.onload = () => {\n              URL.revokeObjectURL(imageUrl);\n            };\n          }\n          if (onDetection) {\n            onDetection({\n              type: 'video',\n              frame: `data:image/jpeg;base64,${frameData.frame}`,\n              results: frameData.results,\n              timestamp: frameData.timestamp\n            });\n          }\n          lastFrameTimeRef.current = now;\n        } catch (err) {\n          console.error('Error al procesar frame:', err);\n        }\n      }\n      animationRef.current = requestAnimationFrame(processFrame);\n    };\n    animationRef.current = requestAnimationFrame(processFrame);\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [fps, onDetection]);\n  const toggleDetection = () => {\n    if (!socketRef.current.connected) {\n      setError('No hay conexión con el servidor. Intente recargar la página.');\n      return;\n    }\n    const newState = !isDetecting;\n    setIsDetecting(newState);\n    if (newState) {\n      frameQueueRef.current = [];\n      frameCountRef.current = 0;\n      lastFpsUpdateRef.current = performance.now();\n      socketRef.current.emit('start_video', {\n        fps\n      });\n    } else {\n      socketRef.current.emit('stop_video');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"webcam-detector\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Detecci\\xF3n en Tiempo Real\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [error, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.location.reload(),\n        children: \"Recargar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        ref: videoRef,\n        alt: \"Transmisi\\xF3n de c\\xE1mara\",\n        style: {\n          display: 'block',\n          maxWidth: '100%',\n          maxHeight: '480px',\n          backgroundColor: '#000',\n          margin: '0 auto'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), isDetecting && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-stats\",\n        children: [\"FPS Objetivo: \", fps, \" | FPS Real: \", realFps]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleDetection,\n        className: `detect-button ${isDetecting ? 'active' : ''}`,\n        disabled: !!error,\n        children: isDetecting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"recording-dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), \" Detener Detecci\\xF3n\"]\n        }, void 0, true) : 'Iniciar Detección'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fps-control\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"FPS:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"1\",\n          max: \"30\",\n          value: fps,\n          onChange: e => setFps(parseInt(e.target.value)),\n          disabled: isDetecting || !!error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: fps\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n};\n_s(WebcamDetector, \"4jWnHEYpBFH81DtmWlEwM2hKV7w=\");\n_c = WebcamDetector;\nexport default WebcamDetector;\nvar _c;\n$RefreshReg$(_c, \"WebcamDetector\");","map":{"version":3,"names":["React","useState","useEffect","useRef","io","jsxDEV","_jsxDEV","Fragment","_Fragment","WebcamDetector","onDetection","_s","isDetecting","setIsDetecting","fps","setFps","realFps","setRealFps","error","setError","videoRef","socketRef","animationRef","lastFrameTimeRef","frameQueueRef","frameCountRef","lastFpsUpdateRef","current","transports","reconnection","reconnectionAttempts","reconnectionDelay","on","console","log","err","data","now","performance","length","push","Math","round","message","disconnect","processFrame","minFrameInterval","frameData","shift","byteString","atob","frame","byteArray","Uint8Array","i","charCodeAt","blob","Blob","type","imageUrl","URL","createObjectURL","src","onload","revokeObjectURL","results","timestamp","requestAnimationFrame","cancelAnimationFrame","toggleDetection","connected","newState","emit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","location","reload","ref","alt","style","display","maxWidth","maxHeight","backgroundColor","margin","disabled","min","max","value","onChange","e","parseInt","target","_c","$RefreshReg$"],"sources":["C:/Users/Nancy/Documents/UNIVERSIDAD/SEPTIMO_SEMESTRE/INFOGRAFIA/object-detection-app/frontend/src/components/WebcamDetector.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport io from 'socket.io-client';\r\nimport '../App.css';\r\n\r\nconst WebcamDetector = ({ onDetection }) => {\r\n  const [isDetecting, setIsDetecting] = useState(false);\r\n  const [fps, setFps] = useState(10);\r\n  const [realFps, setRealFps] = useState(0);\r\n  const [error, setError] = useState(null);\r\n  const videoRef = useRef(null);\r\n  const socketRef = useRef(null);\r\n  const animationRef = useRef(null);\r\n  const lastFrameTimeRef = useRef(0);\r\n  const frameQueueRef = useRef([]);\r\n  const frameCountRef = useRef(0);\r\n  const lastFpsUpdateRef = useRef(0);\r\n\r\n  useEffect(() => {\r\n    socketRef.current = io('http://localhost:5000', {\r\n      transports: ['websocket'],\r\n      reconnection: true,\r\n      reconnectionAttempts: 5,\r\n      reconnectionDelay: 1000,\r\n    });\r\n\r\n    socketRef.current.on('connect', () => {\r\n      console.log('Conectado al servidor WebSocket');\r\n      setError(null);\r\n    });\r\n\r\n    socketRef.current.on('connect_error', (err) => {\r\n      console.error('Error de conexión:', err);\r\n      setError('No se pudo conectar al servidor. Intente recargar la página.');\r\n      setIsDetecting(false);\r\n    });\r\n\r\n    socketRef.current.on('video_frame', (data) => {\r\n      const now = performance.now();\r\n      \r\n      if (frameQueueRef.current.length < 2) {\r\n        frameQueueRef.current.push(data);\r\n      }\r\n      \r\n      if (data.fps) {\r\n        setRealFps(Math.round(data.fps));\r\n      }\r\n    });\r\n\r\n    socketRef.current.on('video_error', (data) => {\r\n      setError(data.message || 'Error en la transmisión de video');\r\n      setIsDetecting(false);\r\n    });\r\n\r\n    return () => {\r\n      if (socketRef.current) {\r\n        socketRef.current.disconnect();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const processFrame = () => {\r\n      const now = performance.now();\r\n      const minFrameInterval = 1000 / fps;\r\n\r\n      if (now - lastFpsUpdateRef.current >= 1000) {\r\n        lastFpsUpdateRef.current = now;\r\n        frameCountRef.current = 0;\r\n      }\r\n\r\n      if (frameQueueRef.current.length > 0 && now - lastFrameTimeRef.current >= minFrameInterval) {\r\n        const frameData = frameQueueRef.current.shift();\r\n        frameCountRef.current++;\r\n\r\n        try {\r\n          if (videoRef.current) {\r\n\r\n            const byteString = atob(frameData.frame);\r\n            const byteArray = new Uint8Array(byteString.length);\r\n            for (let i = 0; i < byteString.length; i++) {\r\n              byteArray[i] = byteString.charCodeAt(i);\r\n            }\r\n            const blob = new Blob([byteArray], { type: 'image/jpeg' });\r\n            const imageUrl = URL.createObjectURL(blob);\r\n            \r\n            videoRef.current.src = imageUrl;\r\n            videoRef.current.onload = () => {\r\n              URL.revokeObjectURL(imageUrl);\r\n            };\r\n          }\r\n\r\n          if (onDetection) {\r\n            onDetection({\r\n              type: 'video',\r\n              frame: `data:image/jpeg;base64,${frameData.frame}`,\r\n              results: frameData.results,\r\n              timestamp: frameData.timestamp\r\n            });\r\n          }\r\n\r\n          lastFrameTimeRef.current = now;\r\n        } catch (err) {\r\n          console.error('Error al procesar frame:', err);\r\n        }\r\n      }\r\n\r\n      animationRef.current = requestAnimationFrame(processFrame);\r\n    };\r\n\r\n    animationRef.current = requestAnimationFrame(processFrame);\r\n\r\n    return () => {\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n      }\r\n    };\r\n  }, [fps, onDetection]);\r\n\r\n  const toggleDetection = () => {\r\n    if (!socketRef.current.connected) {\r\n      setError('No hay conexión con el servidor. Intente recargar la página.');\r\n      return;\r\n    }\r\n\r\n    const newState = !isDetecting;\r\n    setIsDetecting(newState);\r\n\r\n    if (newState) {\r\n      frameQueueRef.current = [];\r\n      frameCountRef.current = 0;\r\n      lastFpsUpdateRef.current = performance.now();\r\n      socketRef.current.emit('start_video', { fps });\r\n    } else {\r\n      socketRef.current.emit('stop_video');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"webcam-detector\">\r\n      <h2>Detección en Tiempo Real</h2>\r\n      \r\n      {error && (\r\n        <div className=\"error-message\">\r\n          {error}\r\n          <button onClick={() => window.location.reload()}>Recargar</button>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"video-container\">\r\n        <img\r\n          ref={videoRef}\r\n          alt=\"Transmisión de cámara\"\r\n          style={{\r\n            display: 'block',\r\n            maxWidth: '100%',\r\n            maxHeight: '480px',\r\n            backgroundColor: '#000',\r\n            margin: '0 auto'\r\n          }}\r\n        />\r\n        {isDetecting && (\r\n          <div className=\"video-stats\">\r\n            FPS Objetivo: {fps} | FPS Real: {realFps}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"controls\">\r\n        <button\r\n          onClick={toggleDetection}\r\n          className={`detect-button ${isDetecting ? 'active' : ''}`}\r\n          disabled={!!error}\r\n        >\r\n          {isDetecting ? (\r\n            <>\r\n              <span className=\"recording-dot\"></span> Detener Detección\r\n            </>\r\n          ) : (\r\n            'Iniciar Detección'\r\n          )}\r\n        </button>\r\n\r\n        <div className=\"fps-control\">\r\n          <label>FPS:</label>\r\n          <input\r\n            type=\"range\"\r\n            min=\"1\"\r\n            max=\"30\"\r\n            value={fps}\r\n            onChange={(e) => setFps(parseInt(e.target.value))}\r\n            disabled={isDetecting || !!error}\r\n          />\r\n          <span>{fps}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WebcamDetector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}